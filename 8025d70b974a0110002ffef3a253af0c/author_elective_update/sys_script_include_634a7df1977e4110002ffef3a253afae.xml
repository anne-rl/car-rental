<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="DELETE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_616811_car_renta.getHolidays</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description/>
        <name>getHolidays</name>
        <script><![CDATA[var getHolidays = Class.create();
getHolidays.prototype = Object.extendsObject(global.AbstractAjaxProcessor,{

	getHolidays: function() {
		var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

		var startDate = this.getParameter('sysparm_start');
		var endDate = this.getParameter('sysparm_end');

		var endNan = false;

		var startParsed = Date.parse(startDate);
		var endParsed = Date.parse(endDate);

		if(endParsed.toString() == 'NaN') endNan = true;

		var startGDate = new GlideDate();
		startGDate.setValue(parseInt(startParsed, 10));

		if (endNan == false) {
			var endGDate = new GlideDate();
			endGDate.setValue(parseInt(endParsed, 10));
		}

		var gr = new GlideRecord('x_616811_car_renta_calendar_days');
		if (endNan == true) {
			gr.addQuery('date', '=', startGDate);
		} else {
			gr.addQuery('date', '>=', startGDate);
			gr.addQuery('date', '<=', endGDate);
		}
		
		gr.query();

		var holidays = [];

		while(gr.next()) {
			var tempArr = gr.date.toString().split('-');
			holidays.push(months[parseInt(tempArr[1]) - 1] + " " + tempArr[2]);
		}
		
		return holidays.toString();
	},
    type: 'getHolidays'
});]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>maryanne.labasan</sys_created_by>
        <sys_created_on>2022-04-12 08:00:18</sys_created_on>
        <sys_id>634a7df1977e4110002ffef3a253afae</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>getHolidays</sys_name>
        <sys_package display_value="Car Rental Reservation" source="x_616811_car_renta">8025d70b974a0110002ffef3a253af0c</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Car Rental Reservation">8025d70b974a0110002ffef3a253af0c</sys_scope>
        <sys_update_name>sys_script_include_634a7df1977e4110002ffef3a253afae</sys_update_name>
        <sys_updated_by>maryanne.labasan</sys_updated_by>
        <sys_updated_on>2022-04-12 08:01:48</sys_updated_on>
    </sys_script_include>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Car Rental Reservation">8025d70b974a0110002ffef3a253af0c</application>
        <file_path/>
        <instance_id>59254ac3db06f3c852cec597059619f5</instance_id>
        <instance_name>dev88149</instance_name>
        <name>sys_script_include_634a7df1977e4110002ffef3a253afae</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_616811_car_renta.getHolidays&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;getHolidays&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var getHolidays = Class.create();
getHolidays.prototype = Object.extendsObject(global.AbstractAjaxProcessor,{

	getHolidays: function() {
		var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

		var startDate = this.getParameter('sysparm_start');
		var endDate = this.getParameter('sysparm_end');

		var endNan = false;

		var startParsed = Date.parse(startDate);
		var endParsed = Date.parse(endDate);

		if(endParsed.toString() == 'NaN') endNan = true;

		var startGDate = new GlideDate();
		startGDate.setValue(parseInt(startParsed, 10));

		if (endNan == false) {
			var endGDate = new GlideDate();
			endGDate.setValue(parseInt(endParsed, 10));
		}

		var gr = new GlideRecord('x_616811_car_renta_calendar_days');
		if (endNan == true) {
			gr.addQuery('date', '=', startGDate);
		} else {
			gr.addQuery('date', '&gt;=', startGDate);
			gr.addQuery('date', '&lt;=', endGDate);
		}
		
		gr.query();

		var holidays = [];

		while(gr.next()) {
			var tempArr = gr.date.toString().split('-');
			holidays.push(months[parseInt(tempArr[1]) - 1] + " " + tempArr[2]);
		}
		
		return holidays.toString();
	},
    type: 'getHolidays'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;maryanne.labasan&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-04-12 08:00:18&lt;/sys_created_on&gt;&lt;sys_id&gt;634a7df1977e4110002ffef3a253afae&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;getHolidays&lt;/sys_name&gt;&lt;sys_package display_value="Car Rental Reservation" source="x_616811_car_renta"&gt;8025d70b974a0110002ffef3a253af0c&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Car Rental Reservation"&gt;8025d70b974a0110002ffef3a253af0c&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_634a7df1977e4110002ffef3a253afae&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;maryanne.labasan&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-12 08:01:48&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
        <payload_hash>1676659909</payload_hash>
        <record_name>getHolidays</record_name>
        <reverted_from/>
        <source>23a1de6f97920510002ffef3a253af50</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>maryanne.labasan</sys_created_by>
        <sys_created_on>2022-04-12 08:01:48</sys_created_on>
        <sys_id>71da35f1977e4110002ffef3a253afb8</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>1801ccb058a0000001</sys_recorded_at>
        <sys_updated_by>maryanne.labasan</sys_updated_by>
        <sys_updated_on>2022-04-12 08:01:48</sys_updated_on>
        <type>Script Include</type>
        <update_guid>79da35f1567e4110a63288a2ddf5f0b7</update_guid>
        <update_guid_history>79da35f1567e4110a63288a2ddf5f0b7:1676659909,7f7a7df1af7e4110d77ab8921b135bb3:-1082589093</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>maryanne.labasan</sys_created_by>
        <sys_created_on>2022-04-13 02:15:54</sys_created_on>
        <sys_db_object display_value="" name="sys_script_include">sys_script_include</sys_db_object>
        <sys_id>50815cc6959c402198b701041cfbfea1</sys_id>
        <sys_metadata>634a7df1977e4110002ffef3a253afae</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>getHolidays</sys_name>
        <sys_package display_value="Car Rental Reservation" source="x_616811_car_renta">8025d70b974a0110002ffef3a253af0c</sys_package>
        <sys_parent/>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Car Rental Reservation">8025d70b974a0110002ffef3a253af0c</sys_scope>
        <sys_scope_delete display_value="">2138fddb26a54d1cab38effb53c35881</sys_scope_delete>
        <sys_update_name>sys_script_include_634a7df1977e4110002ffef3a253afae</sys_update_name>
        <sys_update_version display_value="sys_script_include_634a7df1977e4110002ffef3a253afae">71da35f1977e4110002ffef3a253afb8</sys_update_version>
        <sys_updated_by>maryanne.labasan</sys_updated_by>
        <sys_updated_on>2022-04-13 02:15:54</sys_updated_on>
    </sys_metadata_delete>
</record_update>
